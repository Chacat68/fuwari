# åšå®¢ç»Ÿè®¡åŠŸèƒ½

## åŠŸèƒ½è¯´æ˜

åœ¨é¦–é¡µä¾§è¾¹æ å±•ç¤ºåšå®¢çš„ç»Ÿè®¡ä¿¡æ¯ï¼ŒåŒ…æ‹¬ï¼š
- ğŸ“ æ–‡ç« æ€»æ•°
- ğŸ“ˆ æ€»å­—æ•°
- â±ï¸ æ€»é˜…è¯»æ—¶é•¿
- ğŸ“ å¹³å‡å­—æ•°

ç»Ÿè®¡æ•°æ®ä¼šåœ¨æ¯æ¬¡æ„å»ºæ—¶è‡ªåŠ¨æ›´æ–°ã€‚

## å®ç°æ–¹æ¡ˆ

### 1. æ•°æ®ç”Ÿæˆè„šæœ¬
`scripts/generate-stats.js` - æ‰«ææ‰€æœ‰æ–‡ç« å¹¶ç”Ÿæˆç»Ÿè®¡æ•°æ®

- è‡ªåŠ¨é€’å½’æ‰«æ `src/content/posts` ç›®å½•
- è§£æ frontmatter åˆ¤æ–­æ˜¯å¦ä¸ºè‰ç¨¿
- ä½¿ç”¨ `reading-time` åº“è®¡ç®—å­—æ•°å’Œé˜…è¯»æ—¶é—´
- ç”Ÿäº§ç¯å¢ƒè‡ªåŠ¨è¿‡æ»¤è‰ç¨¿æ–‡ç« 
- ç”Ÿæˆ JSON æ ¼å¼çš„ç»Ÿè®¡æ•°æ®

### 2. é™æ€æ•°æ®æ–‡ä»¶
`src/data/blog-stats.json` - å­˜å‚¨ç»Ÿè®¡ç»“æœ

æ•°æ®ç»“æ„ï¼š
\`\`\`typescript
{
  totalPosts: number;        // æ–‡ç« æ€»æ•°
  publishedPosts: number;    // å·²å‘å¸ƒæ–‡ç« æ•°
  draftPosts: number;        // è‰ç¨¿æ•°
  totalWords: number;        // æ€»å­—æ•°
  totalMinutes: number;      // æ€»é˜…è¯»æ—¶é•¿ï¼ˆåˆ†é’Ÿï¼‰
  averageWords: number;      // å¹³å‡å­—æ•°
  averageMinutes: number;    // å¹³å‡é˜…è¯»æ—¶é•¿ï¼ˆåˆ†é’Ÿï¼‰
  lastUpdated: string;       // æœ€åæ›´æ–°æ—¶é—´ï¼ˆISO 8601ï¼‰
}
\`\`\`

### 3. å±•ç¤ºç»„ä»¶
`src/components/widget/BlogStats.astro` - åœ¨ä¾§è¾¹æ å±•ç¤ºç»Ÿè®¡å¡ç‰‡

- ä½¿ç”¨ç½‘æ ¼å¸ƒå±€å±•ç¤º 4 ä¸ªå…³é”®æŒ‡æ ‡
- å“åº”å¼è®¾è®¡ï¼Œæ”¯æŒæš—è‰²æ¨¡å¼
- åŒ…å«å›¾æ ‡å’Œå•ä½è¯´æ˜
- æ˜¾ç¤ºæœ€åæ›´æ–°æ—¶é—´

### 4. æ„å»ºé›†æˆ
ä¿®æ”¹ `package.json` çš„æ„å»ºæµç¨‹ï¼š

\`\`\`json
"build": "node scripts/generate-stats.js && astro build && pagefind --site dist"
\`\`\`

## ä½¿ç”¨æ–¹æ³•

### æ‰‹åŠ¨ç”Ÿæˆç»Ÿè®¡æ•°æ®
\`\`\`bash
pnpm generate-stats
\`\`\`

### æ„å»ºæ—¶è‡ªåŠ¨ç”Ÿæˆ
\`\`\`bash
pnpm build
\`\`\`

æ„å»ºæµç¨‹ä¼šï¼š
1. é¦–å…ˆè¿è¡Œ `generate-stats.js` ç”Ÿæˆæœ€æ–°ç»Ÿè®¡æ•°æ®
2. ç„¶åæ‰§è¡Œ `astro build` æ„å»ºç«™ç‚¹
3. æœ€åè¿è¡Œ `pagefind` ç”Ÿæˆæœç´¢ç´¢å¼•

### å¼€å‘ç¯å¢ƒ
å¼€å‘æ—¶ä¸ä¼šè‡ªåŠ¨é‡æ–°ç”Ÿæˆç»Ÿè®¡æ•°æ®ã€‚å¦‚æœä½ æ–°å¢æˆ–ä¿®æ”¹äº†æ–‡ç« ï¼Œéœ€è¦æ‰‹åŠ¨è¿è¡Œï¼š

\`\`\`bash
pnpm generate-stats
\`\`\`

ç„¶ååˆ·æ–°é¡µé¢å³å¯çœ‹åˆ°æ›´æ–°åçš„ç»Ÿè®¡ã€‚

## æ–‡ä»¶æ¸…å•

\`\`\`
scripts/
  â””â”€â”€ generate-stats.js          # ç»Ÿè®¡æ•°æ®ç”Ÿæˆè„šæœ¬

src/
  â”œâ”€â”€ data/
  â”‚   â””â”€â”€ blog-stats.json        # ç»Ÿè®¡æ•°æ®ï¼ˆè‡ªåŠ¨ç”Ÿæˆï¼‰
  â”œâ”€â”€ types/
  â”‚   â””â”€â”€ blog-stats.ts          # TypeScript ç±»å‹å®šä¹‰
  â””â”€â”€ components/
      â””â”€â”€ widget/
          â”œâ”€â”€ BlogStats.astro    # ç»Ÿè®¡å±•ç¤ºç»„ä»¶
          â””â”€â”€ SideBar.astro      # å·²é›†æˆ BlogStats
\`\`\`

## æ³¨æ„äº‹é¡¹

1. **æ•°æ®æ–‡ä»¶å¯æäº¤åˆ°ç‰ˆæœ¬æ§åˆ¶**ï¼š`blog-stats.json` åº”è¯¥æäº¤åˆ° Gitï¼Œè¿™æ ·éƒ¨ç½²ç¯å¢ƒå³ä½¿è·³è¿‡ç»Ÿè®¡ç”Ÿæˆä¹Ÿèƒ½ä½¿ç”¨ä¸Šæ¬¡çš„æ•°æ®ã€‚

2. **è‰ç¨¿å¤„ç†**ï¼š
   - å¼€å‘ç¯å¢ƒï¼ˆ`pnpm dev`ï¼‰ï¼šåŒ…å«è‰ç¨¿æ–‡ç« 
   - ç”Ÿäº§ç¯å¢ƒï¼ˆ`pnpm build`ï¼‰ï¼šè‡ªåŠ¨è¿‡æ»¤è‰ç¨¿

3. **æ€§èƒ½è€ƒè™‘**ï¼šç»Ÿè®¡è„šæœ¬åªåœ¨æ„å»ºæ—¶è¿è¡Œä¸€æ¬¡ï¼Œä¸ä¼šå½±å“å¼€å‘ä½“éªŒæˆ–è¿è¡Œæ—¶æ€§èƒ½ã€‚

4. **æ‰©å±•æ€§**ï¼šå¯ä»¥è½»æ¾æ‰©å±•ç»Ÿè®¡ç»´åº¦ï¼Œæ¯”å¦‚ï¼š
   - æŒ‰åˆ†ç±»/æ ‡ç­¾ç»Ÿè®¡
   - æŒ‰å¹´ä»½ç»Ÿè®¡
   - æ–‡ç« å¢é•¿è¶‹åŠ¿
   - ç­‰ç­‰

## ç¤ºä¾‹è¾“å‡º

è¿è¡Œ `pnpm generate-stats` åçš„è¾“å‡ºï¼š

\`\`\`
ğŸ” å¼€å§‹æ‰«ææ–‡ç« ...
ğŸ“ æ‰¾åˆ° 116 ç¯‡æ–‡ç« 

âœ… ç»Ÿè®¡å®Œæˆ!
ğŸ“Š æ€»æ–‡ç« æ•°: 116
ğŸ“ å·²å‘å¸ƒ: 116
âœï¸  è‰ç¨¿: 0
ğŸ“ˆ æ€»å­—æ•°: 151,389
â±ï¸  æ€»é˜…è¯»æ—¶é—´: 757 åˆ†é’Ÿ
ğŸ“ å¹³å‡å­—æ•°: 1,305
ğŸ• å¹³å‡é˜…è¯»æ—¶é—´: 7 åˆ†é’Ÿ
ğŸ’¾ æ•°æ®å·²ä¿å­˜è‡³: /path/to/src/data/blog-stats.json
\`\`\`
